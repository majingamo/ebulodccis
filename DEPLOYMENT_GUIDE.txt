═══════════════════════════════════════════════════════════════
  VERCEL DEPLOYMENT - STEP BY STEP GUIDE
═══════════════════════════════════════════════════════════════

STEP 1: INSTALL NODE.JS DEPENDENCIES
───────────────────────────────────────────────────────────────

1.1 Open terminal/command prompt in your project folder
    - Press Windows Key + R
    - Type: cmd
    - Press Enter
    - Navigate to your project: cd C:\xampp\htdocs\EBulod

1.2 Install dependencies
    - Type: npm install
    - Press Enter
    - Wait for installation to complete

1.3 Verify installation
    - You should see "node_modules" folder created
    - Check that package.json exists


STEP 2: PREPARE GIT REPOSITORY
───────────────────────────────────────────────────────────────

2.1 Check if Git is initialized
    - Type: git status
    - If it says "not a git repository", continue to 2.2
    - If it shows files, skip to 2.3

2.2 Initialize Git (if not done)
    - Type: git init
    - Press Enter

2.3 Add all files
    - Type: git add .
    - Press Enter

2.4 Commit files
    - Type: git commit -m "Initial commit - Ready for Vercel"
    - Press Enter


STEP 3: CREATE GITHUB REPOSITORY
───────────────────────────────────────────────────────────────

3.1 Go to GitHub
    - Open browser: https://github.com/new
    - Sign in if needed

3.2 Create new repository
    - Repository name: ebulod (or your preferred name)
    - Description: E-Bulod Equipment Borrowing System (optional)
    - Choose: Public or Private (your choice)
    - DO NOT check:
      ❌ Add a README file
      ❌ Add .gitignore
      ❌ Choose a license
    - Click "Create repository"

3.3 Copy the repository URL
    - You'll see a page with setup instructions
    - Copy the HTTPS URL (looks like: https://github.com/YOUR_USERNAME/ebulod.git)


STEP 4: PUSH TO GITHUB
───────────────────────────────────────────────────────────────

4.1 Connect to GitHub (in terminal)
    - Type: git remote add origin https://github.com/YOUR_USERNAME/ebulod.git
    - Replace YOUR_USERNAME with your actual GitHub username
    - Replace ebulod with your repository name if different
    - Press Enter

4.2 Set main branch
    - Type: git branch -M main
    - Press Enter

4.3 Push to GitHub
    - Type: git push -u origin main
    - Press Enter
    - If asked for credentials:
      * Username: Your GitHub username
      * Password: Use a Personal Access Token (not your password)
      * To create token: GitHub → Settings → Developer settings → Personal access tokens → Generate new token
      * Select scope: "repo"
      * Copy the token and use it as password

4.4 Verify
    - Go to your GitHub repository page
    - You should see all your files there


STEP 5: CREATE VERCEL ACCOUNT
───────────────────────────────────────────────────────────────

5.1 Go to Vercel
    - Open browser: https://vercel.com/signup

5.2 Sign up
    - Click "Continue with GitHub" (recommended - easiest)
    - OR sign up with email
    - Authorize Vercel to access your GitHub (if using GitHub)


STEP 6: DEPLOY TO VERCEL
───────────────────────────────────────────────────────────────

6.1 Import project
    - In Vercel dashboard, click "Add New..." → "Project"
    - OR go to: https://vercel.com/new

6.2 Select repository
    - Find your "ebulod" repository
    - Click "Import"

6.3 Configure project
    - Project Name: ebulod (or leave default)
    - Framework Preset: Other (or leave default)
    - Root Directory: ./
    - Build Command: (leave empty)
    - Output Directory: (leave empty)
    - Install Command: npm install

6.4 Add Environment Variables (IMPORTANT!)
    - Click "Environment Variables"
    - Add these 3 variables:

    Variable 1:
    Name: FIREBASE_PROJECT_ID
    Value: studio-5277928304-db252
    Environment: Production, Preview, Development (select all)

    Variable 2:
    Name: FIREBASE_API_KEY
    Value: (Get this from your api/config.php file)
    - Open: C:\xampp\htdocs\EBulod\api\config.php
    - Find the line: define('FIREBASE_API_KEY', '...');
    - Copy the value inside quotes
    - Paste it as the Value
    Environment: Production, Preview, Development (select all)

    Variable 3:
    Name: ALLOWED_ORIGIN
    Value: https://your-app-name.vercel.app
    - You'll update this AFTER deployment with your actual URL
    - For now, use: *
    Environment: Production, Preview, Development (select all)

6.5 Deploy
    - Click "Deploy"
    - Wait for deployment (usually 1-2 minutes)
    - You'll see a progress bar


STEP 7: GET YOUR DEPLOYMENT URL
───────────────────────────────────────────────────────────────

7.1 After deployment completes
    - You'll see "Congratulations! Your project has been deployed"
    - Copy the URL (looks like: https://ebulod-xxxxx.vercel.app)

7.2 Update ALLOWED_ORIGIN
    - Go to: Vercel Dashboard → Your Project → Settings → Environment Variables
    - Find ALLOWED_ORIGIN
    - Click "Edit"
    - Change value from "*" to your actual URL: https://ebulod-xxxxx.vercel.app
    - Click "Save"
    - Go to "Deployments" tab
    - Click the three dots (⋮) on the latest deployment
    - Click "Redeploy"
    - OR just make a small change and push to GitHub (auto-redeploys)


STEP 8: TEST YOUR DEPLOYMENT
───────────────────────────────────────────────────────────────

8.1 Visit your site
    - Open your Vercel URL in browser
    - You should see your login page

8.2 Test login
    - Try logging in as admin
    - Try logging in as borrower
    - Check if dashboard loads

8.3 Check for errors
    - Open browser DevTools (Press F12)
    - Go to "Console" tab
    - Look for any red error messages
    - Go to "Network" tab
    - Try using the app
    - Check if API calls are successful (green status codes)

8.4 Test features
    ✅ Login (admin and borrower)
    ✅ View dashboard
    ✅ Browse equipment
    ✅ Submit request
    ✅ Approve/reject request (admin)
    ✅ View notifications
    ✅ All other features


STEP 9: TROUBLESHOOTING (If something doesn't work)
───────────────────────────────────────────────────────────────

9.1 Check Vercel logs
    - Go to: Vercel Dashboard → Your Project → Deployments
    - Click on the latest deployment
    - Click "Functions" tab
    - Click on any function to see logs
    - Look for error messages

9.2 Common issues:

    Issue: "Module not found" or "Cannot find module"
    Solution: 
    - Go to Vercel Dashboard → Settings → Environment Variables
    - Make sure FIREBASE_API_KEY is set correctly
    - Redeploy

    Issue: "Unauthorized" errors
    Solution:
    - Check that ALLOWED_ORIGIN is set to your Vercel URL
    - Make sure it's not "*" (update it)
    - Redeploy

    Issue: API calls failing
    Solution:
    - Check browser console (F12) for errors
    - Check Network tab to see what's failing
    - Verify environment variables are set
    - Check Vercel function logs

    Issue: Login not working
    Solution:
    - Check that Firebase credentials are correct
    - Verify FIREBASE_PROJECT_ID and FIREBASE_API_KEY
    - Check browser console for errors


STEP 10: SET UP CUSTOM DOMAIN (OPTIONAL)
───────────────────────────────────────────────────────────────

10.1 Add domain
    - Go to: Vercel Dashboard → Your Project → Settings → Domains
    - Click "Add Domain"
    - Enter your domain name
    - Follow DNS configuration instructions

10.2 Update ALLOWED_ORIGIN
    - After domain is set up, update ALLOWED_ORIGIN to your custom domain
    - Redeploy


═══════════════════════════════════════════════════════════════
  QUICK CHECKLIST
═══════════════════════════════════════════════════════════════

Before deploying:
☐ npm install completed
☐ Git repository created on GitHub
☐ Code pushed to GitHub
☐ Vercel account created

During deployment:
☐ Project imported to Vercel
☐ FIREBASE_PROJECT_ID environment variable added
☐ FIREBASE_API_KEY environment variable added
☐ ALLOWED_ORIGIN environment variable added (set to * initially)
☐ Deployment successful

After deployment:
☐ Got deployment URL
☐ Updated ALLOWED_ORIGIN to actual URL
☐ Redeployed with updated ALLOWED_ORIGIN
☐ Tested login (admin)
☐ Tested login (borrower)
☐ Tested all features
☐ No errors in browser console
☐ No errors in Vercel logs

═══════════════════════════════════════════════════════════════
  NEED HELP?
═══════════════════════════════════════════════════════════════

If you encounter issues:
1. Check Vercel deployment logs
2. Check browser console (F12)
3. Verify all environment variables are set
4. Make sure Firebase credentials are correct
5. Check that code was pushed to GitHub correctly

═══════════════════════════════════════════════════════════════

